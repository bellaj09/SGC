Controlling a device with a brain-computer interface requires extraction of relevant and robust features from high-dimensional electroencephalographic recordings. Spatial filtering is a crucial step in this feature extraction process. This paper reviews algorithms for spatial filter computation and introduces a general framework for this task based on divergence maximization. We show that the popular common spatial patterns CSP algorithm can be formulated as a divergence maximization problem and computed within our framework. Our approach easily permits enforcing different invariances and utilizing information from other subjects; thus it unifies many of the recently proposed CSP variants in a principled manner. Furthermore it allows to design novel spatial filtering algorithms by incorporating regularization schemes into the optimization process or applying other divergences. We evaluate the proposed approach using three regularization schemes investigate the advantages of beta divergence and show that subject-independent feature spaces can be extracted by jointly optimizing the divergence problems of multiple users. We discuss the relations to several CSP variants and investigate the advantages and limitations of our approach with simulations. Finally we provide experimental results on a dataset containing recordings from 80 subjects and interpret the obtained patterns from a neurophysiological perspective. Divergence-based framework for common spatial patterns algorithms.