Intrusion detection systems play an important role in preventing security threats and protecting networks from attacks. However with the emergence of unknown attacks and imbalanced samples traditional machine learning methods suffer from lower detection rates and higher false positive rates. We propose a novel intrusion detection model that combines an improved conditional variational AutoEncoder ICVAE with a deep neural network DNN namely ICVAE-DNN. ICVAE is used to learn and explore potential sparse representations between network data features and classes. The trained ICVAE decoder generates new attack samples according to the specified intrusion categories to balance the training data and increase the diversity of training samples thereby improving the detection rate of the imbalanced attacks. The trained ICVAE encoder is not only used to automatically reduce data dimension but also to initialize the weight of DNN hidden layers so that DNN can easily achieve global optimization through back propagation and fine tuning. The NSL-KDD and UNSW-NB15 datasets are used to evaluate the performance of the ICVAE-DNN. The ICVAE-DNN is superior to the three well-known oversampling methods in data augmentation. Moreover the ICVAE-DNN outperforms six well-known models in detection performance and is more effective in detecting minority attacks and unknown attacks. In addition the ICVAE-DNN also shows better overall accuracy detection rate and false positive rate than the nine state-of-the-art intrusion detection methods. Improving the Classification Effectiveness of Intrusion Detection by Using Improved Conditional Variational AutoEncoder and Deep Neural Network.