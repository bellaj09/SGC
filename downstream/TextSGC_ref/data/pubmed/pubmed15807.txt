Deep learning methods are being increasingly widely used in static malware detection field because they can summarize the feature of malware and its variants that have never appeared before. But similar to the picture recognition model the static malware detection model based on deep learning is also vulnerable to the interference of adversarial samples. When the input feature vectors of the malware detection model is based on static features of Windows PE Portable Executable PE file the model is vulnerable to gradient-based attacks. Regarding the issue above a method of adversarial sample generation is proposed which can summarize the blind spots of the original detection model. However the existing malware adversarial sample generation method is not universal and low in generation efficiency due to the need for human control and difficulty in maintaining a normal file format. In response to these problems this paper proposes a novel method of automatic adversarial samples generation based on deep reinforcement learning. Firstly a static PE malware detection model based on deep learning called DeepDetectNet is constructed the original AUC of which can reach 0.989. Then an adversarial sample generation model based on reinforcement learning called RLAttackNet is implemented which generates malware samples that can bypass DeepDetectNet. Finally when we re-input the adversarial samples into the previously trained DeepDetectNet the original defects of DeepDetectNet can be reinforced. Experimental results show that the RLAttackNet proposed in this paper can generate about 19.13% of malware samples bypass DeepDetectNet. When DeepDetectNet is retrained with these adversarial samples the AUC value improves from 0.989 to 0.996 and attack success rate has a significant drop from 19.13% to 3.1% compared with the original model. DeepDetectNet vs RLAttackNet: An adversarial method to improve deep learning-based static malware detection model.