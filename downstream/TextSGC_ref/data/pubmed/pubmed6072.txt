Convolutional neural networks CNNs the state of the art in image classification have proven to be as effective as an ophthalmologist when detecting referable diabetic retinopathy. Having a size of Formula: see text of the total image microaneurysms are early lesions in diabetic retinopathy that are difficult to classify. A model that includes two CNNs with different input image sizes Formula: see text and Formula: see text was developed. These models were trained using the Kaggle and Messidor datasets and tested independently against the Kaggle dataset showing a sensitivity Formula: see text a specificity Formula: see text and an area under the receiver operating characteristics curve Formula: see text. Furthermore by combining these trained models there was a reduction of false positives for complete images by about 50% and a sensitivity of 96% when tested against the DiaRetDB1 dataset. In addition a powerful image preprocessing procedure was implemented improving not only images for annotations but also decreasing the number of epochs during training. Finally a feedback method was developed increasing the accuracy of the CNN Formula: see text input model. Classification of images based on small local features: a case applied to microaneurysms in fundus retina images.