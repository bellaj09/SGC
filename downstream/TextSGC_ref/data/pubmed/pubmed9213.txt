Space-based optical encryption SBOE and double random polarization encoding DRPO are previously considered to be more secure than common random-phase-encoding-based optical cryptosystems. The known-plaintext attack KPA to SBOE and DRPO was seldomly investigated in the past. A matrix regression approach based on training samples is proposed in this paper to crack these two optical cryptosystems. The relationship between plaintexts and ciphertexts is directly modeled by a complex-amplitude weighting matrix which is optimized by a gradient descent algorithm. This approach has a simple model compared with deep learning and the KPA can be implemented without recovering the exact key. Our proposed KPA schemes reveal the security flaws of SBOE and DRPO as well as other linear optical cryptosystems. Known-plaintext attack to optical encryption systems with space and polarization encoding.