Rehabilitation is often required after stroke surgery or degenerative diseases. It has to be specific for each patient and can be easily calibrated if assisted by human-computer interfaces and virtual reality. Recognition and tracking of different human body landmarks represent the basic features for the design of the next generation of human-computer interfaces. The most advanced systems for capturing human gestures are focused on vision-based techniques which on the one hand may require compromises from real-time and spatial precision and on the other hand ensure natural interaction experience. The integration of vision-based interfaces with thematic virtual environments encourages the development of novel applications and services regarding rehabilitation activities. The algorithmic processes involved during gesture recognition activity as well as the characteristics of the virtual environments can be developed with different levels of accuracy. This paper describes the architectural aspects of a framework supporting real-time vision-based gesture recognition and virtual environments for fast prototyping of customized exercises for rehabilitation purposes. The goal is to provide the therapist with a tool for fast implementation and modification of specific rehabilitation exercises for specific patients during functional recovery. Pilot examples of designed applications and preliminary system evaluation are reported and discussed. Design of an efficient framework for fast prototyping of customized human-computer interfaces and virtual environments for rehabilitation.