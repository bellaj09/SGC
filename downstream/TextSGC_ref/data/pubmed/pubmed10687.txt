Diesel engine fault diagnosis is vital due to enhanced reliability and economic efficiency requirements. The extracted features in traditional fault diagnosis are constructed manually which is very cumbersome because of the requirement for lots of expertise. To handle this issue this paper proposed a variational stacked autoencoder VSAE to adaptively extract features from angular domain signals. As an unsupervised algorithm VSAE can extract high-level features with the help of multiple encoding layers. Layer-wise pre-training and fine-tuning are introduced to get a better network initialization value. Moreover the dropout technique and the batch normalization technique are carried out to prevent over-fitting and implement fast convergence. Finally the harmony search optimizer HSO algorithm is introduced to get an appropriate hyper-parameter setting in the VSAE model as well as make adaptive adjustment of the network structure. In order to verify the proposed method the valve train fault data is collected on the diesel engine test rig under twelve operating conditions. The results indicate that the proposed scheme can effectively diagnose different degrees of intake valve fault exhaust valve fault and coupling fault under various operating conditions. Furthermore the classification accuracy improved from 94.10% to 98.85%VSAE compared with stacked autoencoder SAE and some other traditional fault diagnosis algorithms. A Variational Stacked Autoencoder with Harmony Search Optimizer for Valve Train Fault Diagnosis of Diesel Engine.