"Insects can estimate distance or time-to-contact of surrounding objects from locomotion-induced changes in their retinal position and/or size. Freely walking fruit flies Drosophila melanogaster use the received mixture of different distance cues to select the nearest objects for subsequent visits. Conventional methods of behavioral analysis fail to elucidate the underlying data extraction. Here we demonstrate first comprehensive solutions of this problem by substituting virtual for real objects; a tracker-controlled 360 degrees panorama converts a fruit flys changing coordinates into object illusions that require the perception of specific cues to appear at preselected distances up to infinity. An application reveals the following: 1 en-route sampling of retinal-image changes accounts for distance discrimination within a surprising range of at least 8-80 body lengths 20-200 mm. Stereopsis and peering are not involved. 2 Distance from image translation in the expected direction motion parallax outweighs distance from image expansion which accounts for impact-avoiding flight reactions to looming objects. 3 The ability to discriminate distances is robust to artificially delayed updating of image translation. Fruit flies appear to interrelate self-motion and its visual feedback within a surprisingly long time window of about 2 s. The comparative distance inspection practiced in the small fruit fly deserves utilization in self-moving robots." Virtual-reality techniques resolve the visual cues used by fruit flies to evaluate object distances.