Unmanned aerial vehicle UAV flocking control is a serious and challenging problem due to local interactions and changing environments. In this paper a pigeon flocking model and a pigeon coordinated obstacle-avoiding model are proposed based on a behavior that pigeon flocks will switch between hierarchical and egalitarian interaction mode at different flight phases. Owning to the similarity between bird flocks and UAV swarms in essence a distributed flocking control algorithm based on the proposed pigeon flocking and coordinated obstacle-avoiding models is designed to coordinate a heterogeneous UAV swarm to fly though obstacle environments with few informed individuals. The comparative simulation results are elaborated to show the feasibility validity and superiority of our proposed algorithm. Pigeon interaction mode switch-based UAV distributed flocking control under obstacle environments.