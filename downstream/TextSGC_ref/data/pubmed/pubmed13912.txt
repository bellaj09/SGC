Computational drug repositioning requires assessment of the functional similarities among compounds. Here we report a new method for measuring compound functional similarity based on gene expression data. This approach takes advantage of deep neural networks to learn an embedding that substantially denoises expression data making replicates of the same compound more similar. Our method uses unlabeled data in the sense that it only requires compounds to be labeled by identity rather than detailed pharmacological information which is often unavailable and costly to obtain. Similarity in the learned embedding space accurately predicted pharmacological similarities despite the lack of any such labels during training and achieved substantially improved performance in comparison with previous similarity measures applied to gene expression measurements. Our method could identify drugs with shared therapeutic and biological targets even when the compounds were structurally dissimilar thereby revealing previously unreported functional relationships between compounds. Thus our approach provides an improved engine for drug repurposing based on expression data which we have made available through the online tool DeepCodex  http://deepcodex.org . Drug Repurposing Using Deep Embeddings of Gene Expression Profiles.