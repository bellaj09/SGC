This paper considers functional integration in the brain from a computational perspective. We ask what sort of neuronal message passing is mandated by active inference-and what implications this has for context-sensitive connectivity at microscopic and macroscopic levels. In particular we formulate neuronal processing as belief propagation under deep generative models. Crucially these models can entertain both discrete and continuous states leading to distinct schemes for belief updating that play out on the same neuronal architecture. Technically we use Forney normal factor graphs to elucidate the requisite message passing in terms of its form and scheduling. To accommodate mixed generative models of discrete and continuous states one also has to consider link nodes or factors that enable discrete and continuous representations to talk to each other. When mapping the implicit computational architecture onto neuronal connectivity several interesting features emerge. For example Bayesian model averaging and comparison which link discrete and continuous states may be implemented in thalamocortical loops. These and other considerations speak to a computational connectome that is inherently state dependent and self-organizing in ways that yield to a principled variational account. We conclude with simulations of reading that illustrate the implicit neuronal message passing with a special focus on how discrete semantic representations inform and are informed by continuous visual sampling of the sensorium. The graphical brain: Belief propagation and active inference.