Having to determine an adequate number of fiber directions is a fundamental limitation of multi-compartment models in diffusion MRI. This paper proposes a novel strategy to approach this problem based on simulating data that closely follows the characteristics of the measured data. This provides the ground truth required to determine the number of directions that optimizes a formal measure of accuracy while allowing us to transfer the result to real data by support vector regression. The method is shown to result in plausible and reproducible decisions on three repeated scans of the same subject. When combined with the ball-and-stick model it produces directional estimates comparable to constrained spherical deconvolution but with significantly smaller variance between re-scans and at a reduced computational cost. Learning a reliable estimate of the number of fiber directions in diffusion MRI.