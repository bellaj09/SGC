"Collaborative filtering CF is a common recommendation mechanism that relies on user-item ratings. However the intrinsic sparsity of user-item rating data can be problematic in many domains and settings limiting the ability to generate accurate predictions and effective recommendations. At present most algorithms use two-valued trust relationship of social network to improve recommendation quality but fail to take into account the difference of trust intensity of each friend and users comment information. To this end the recommendation system within a social network adopts topical attention and probabilistic matrix factorization STAPMF is proposed. We combine the trust information in social networks and the topical information from review documents by proposing a novel algorithm combining probabilistic matrix factorization and attention-based recurrent neural networks to extract item underlying feature vectors users personal potential feature vectors and users social hidden feature vectors which represent the features extracted from the users trusted network. Using real-world datasets we show a significant improvement in recommendation performance comparing with the prevailing state-of-the-art algorithms for social network-based recommendation." Recommendation system in social networks with topical attention and probabilistic matrix factorization.