For efficient decoding of brain activities in analyzing brain function with an application to brain machine interfacing BMI we address a problem of how to determine spatial weights spatial patterns bandpass filters frequency patterns and time windows time patterns by utilizing electroencephalogram EEG recordings. To find these parameters we develop a data-driven criterion that is a natural extension of the so-called common spatial patterns CSP that are known to be effective features in BMI. We show that the proposed criterion can be optimized by an alternating procedure to achieve fast convergence. Experiments demonstrate that the proposed method can effectively extract discriminative features for a motor imagery-based BMI. Common spatio-time-frequency patterns for motor imagery-based brain machine interfaces.